<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is TMS Right for Me? - HealMed Clinic</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .logo {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .slogan {
            font-size: 1.2em;
            opacity: 0.9;
            font-weight: 300;
        }

        .content {
            padding: 40px;
        }

        .progress-bar {
            background: #ecf0f1;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #3498db, #2ecc71);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .option:hover {
            background: #e3f2fd;
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .option.selected {
            background: linear-gradient(135deg, #3498db, #2ecc71);
            color: white;
            border-color: #2980b9;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2ecc71);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .result-container {
            text-align: center;
            padding: 40px;
        }

        .result-title {
            font-size: 2.2em;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .result-description {
            font-size: 1.2em;
            line-height: 1.6;
            color: #34495e;
            margin-bottom: 30px;
        }

        .contact-info {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            border-left: 5px solid #3498db;
        }

        .contact-info h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .contact-info p {
            margin-bottom: 10px;
            color: #34495e;
        }

        .link-button {
            display: inline-block;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .link-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .stage-1 { border-left-color: #f39c12; }
        .stage-2 { border-left-color: #e67e22; }
        .stage-3 { border-left-color: #27ae60; }

        .hidden {
            display: none;
        }

        .intro-text {
            font-size: 1.1em;
            color: #34495e;
            margin-bottom: 30px;
            line-height: 1.6;
            text-align: center;
        }

        .restart-btn {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 20px;
        }

        .restart-btn:hover {
            transform: translateY(-1px);
        }

        .articles-section {
            background: #ecf0f1;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .articles-section h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .articles-section ul {
            list-style: none;
            padding: 0;
        }

        .articles-section li {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .articles-section li:last-child {
            margin-bottom: 0;
        }

        /* New styles for resource buttons */
        .resource-buttons {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            border-left: 5px solid #27ae60;
        }

        .resource-buttons h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .resource-button {
            display: block;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 15px 20px;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(39, 174, 96, 0.3);
        }

        .resource-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(39, 174, 96, 0.4);
        }

        .resource-button.anxiety {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            box-shadow: 0 3px 10px rgba(243, 156, 18, 0.3);
        }

        .resource-button.anxiety:hover {
            box-shadow: 0 8px 20px rgba(243, 156, 18, 0.4);
        }

        .resource-button.depression {
            background: linear-gradient(135deg, #3498db, #2980b9);
            box-shadow: 0 3px 10px rgba(52, 152, 219, 0.3);
        }

        .resource-button.depression:hover {
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.4);
        }

        .resource-button.ptsd {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            box-shadow: 0 3px 10px rgba(155, 89, 182, 0.3);
        }

        .resource-button.ptsd:hover {
            box-shadow: 0 8px 20px rgba(155, 89, 182, 0.4);
        }

        .resource-button.ocd {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
        }

        .resource-button.ocd:hover {
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
        }

        .resource-button.general {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            box-shadow: 0 3px 10px rgba(52, 73, 94, 0.3);
        }

        .resource-button.general:hover {
            box-shadow: 0 8px 20px rgba(52, 73, 94, 0.4);
        }

        .resource-description {
            font-size: 0.9em;
            margin-top: 5px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">HealMed Clinic</div>
            <div class="slogan">Let's Heal Minds!</div>
        </div>

        <div class="content">
            <div id="quiz-container">
                <div class="intro-text">
                    <strong>Discover if TMS therapy could be right for you!</strong><br>
                    This comprehensive assessment will evaluate your eligibility for Transcranial Magnetic Stimulation (TMS) therapy based on current clinical guidelines and your personal health profile.
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>

                <div class="question-container">
                    <div class="question" id="question-text"></div>
                    <div class="options" id="options-container"></div>
                </div>

                <div class="buttons">
                    <button class="btn btn-secondary" id="prev-btn" onclick="previousQuestion()">Previous</button>
                    <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()" disabled>Next</button>
                </div>
            </div>

            <div id="result-container" class="result-container hidden">
                <div class="result-title" id="result-title"></div>
                <div class="result-description" id="result-description"></div>
                <div class="contact-info" id="contact-info"></div>
                <div class="resource-buttons" id="resource-buttons"></div>
                <button class="restart-btn" onclick="restartQuiz()">Take Quiz Again</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "Have you been diagnosed with any of the following conditions?",
                options: [
                    { text: "Major Depressive Disorder", value: "depression", score: 3 },
                    { text: "Treatment-Resistant Depression", value: "trd", score: 5 },
                    { text: "Obsessive-Compulsive Disorder (OCD)", value: "ocd", score: 4 },
                    { text: "Anxiety Disorders", value: "anxiety", score: 2 },
                    { text: "PTSD", value: "ptsd", score: 3 },
                    { text: "I'm not sure about my specific diagnosis", value: "unsure", score: 0 }
                ]
            },
            {
                question: "How many different antidepressant medications have you tried?",
                options: [
                    { text: "None", value: "none", score: 0 },
                    { text: "1 medication", value: "one", score: 1 },
                    { text: "2 medications from different classes", value: "two", score: 3 },
                    { text: "3 or more medications", value: "three_plus", score: 5 },
                    { text: "I'm not sure", value: "unsure", score: 0 }
                ]
            },
            {
                question: "For how long did you take each medication at the maximum tolerated dose?",
                options: [
                    { text: "Less than 4 weeks", value: "short", score: 1 },
                    { text: "4-6 weeks", value: "medium", score: 3 },
                    { text: "6-12 weeks or longer", value: "long", score: 5 },
                    { text: "I haven't taken antidepressants", value: "none", score: 0 },
                    { text: "I'm not sure", value: "unsure", score: 0 }
                ]
            },
            {
                question: "How would you rate the severity of your current symptoms?",
                options: [
                    { text: "Mild - symptoms are manageable", value: "mild", score: 1 },
                    { text: "Moderate - symptoms interfere with daily life", value: "moderate", score: 3 },
                    { text: "Severe - symptoms significantly impact functioning", value: "severe", score: 5 },
                    { text: "I'm currently symptom-free", value: "none", score: 0 }
                ]
            },
            {
                question: "Have you experienced any of the following?",
                options: [
                    { text: "Inability to work or maintain relationships due to symptoms", value: "functional_impairment", score: 4 },
                    { text: "Hospitalizations related to mental health", value: "hospitalizations", score: 5 },
                    { text: "Suicidal thoughts or behaviors", value: "suicidal", score: 5 },
                    { text: "Chronic pain or migraines alongside mood symptoms", value: "chronic_pain", score: 3 },
                    { text: "None of the above", value: "none", score: 0 }
                ]
            },
            {
                question: "How long have you been experiencing mental health symptoms?",
                options: [
                    { text: "Less than 6 months", value: "short", score: 1 },
                    { text: "6 months to 2 years", value: "medium", score: 3 },
                    { text: "2-5 years", value: "long", score: 4 },
                    { text: "More than 5 years", value: "chronic", score: 5 }
                ]
            },
            {
                question: "Are you currently receiving or have you received psychotherapy?",
                options: [
                    { text: "Yes, currently in therapy and it's somewhat helpful", value: "current_helpful", score: 2 },
                    { text: "Yes, but therapy alone hasn't been sufficient", value: "current_insufficient", score: 4 },
                    { text: "I've tried therapy but it didn't help", value: "tried_no_help", score: 4 },
                    { text: "No, I haven't tried therapy", value: "no_therapy", score: 1 }
                ]
            },
            {
                question: "Do you have any of the following conditions or devices?",
                options: [
                    { text: "Implanted metallic devices in or around the head", value: "metal_implants", score: -10 },
                    { text: "History of seizures or epilepsy", value: "seizures", score: -8 },
                    { text: "Cochlear implants", value: "cochlear", score: -10 },
                    { text: "Increased intracranial pressure", value: "pressure", score: -8 },
                    { text: "None of the above", value: "none", score: 0 }
                ]
            },
            {
                question: "Are you currently pregnant or breastfeeding?",
                options: [
                    { text: "Yes, I am pregnant", value: "pregnant", score: -5 },
                    { text: "Yes, I am breastfeeding", value: "breastfeeding", score: -3 },
                    { text: "No", value: "no", score: 0 }
                ]
            },
            {
                question: "What is your age range?",
                options: [
                    { text: "Under 18", value: "under_18", score: -5 },
                    { text: "18-25", value: "young_adult", score: 3 },
                    { text: "26-40", value: "adult", score: 5 },
                    { text: "41-65", value: "middle_aged", score: 5 },
                    { text: "Over 65", value: "senior", score: 2 }
                ]
            }
        ];

        let currentQuestion = 0;
        let userResponses = [];
        let totalScore = 0;

        // Resource links for different conditions
        const mentalHealthResources = {
            anxiety: [
                {
                    title: "Anxiety and Depression Toolkit",
                    url: "https://adaa.org/tips",
                    description: "Evidence-based anxiety management strategies"
                },
                {
                    title: "Mindfulness for Anxiety",
                    url: "https://www.headspace.com/anxiety",
                    description: "Guided meditation and mindfulness practices"
                }
            ],
            depression: [
                {
                    title: "Understanding Depression",
                    url: "https://www.nimh.nih.gov/health/topics/depression",
                    description: "Comprehensive guide from NIMH"
                },
                {
                    title: "Depression Self-Help Resources",
                    url: "https://www.helpguide.org/articles/depression/coping-with-depression.htm",
                    description: "Practical coping strategies and support"
                }
            ],
            ptsd: [
                {
                    title: "PTSD Treatment and Support",
                    url: "https://www.ptsd.va.gov/understand/index.asp",
                    description: "Comprehensive PTSD resources and treatment options"
                },
                {
                    title: "Trauma Recovery Network",
                    url: "https://www.trauma-recovery.net/",
                    description: "Support and recovery resources for trauma survivors"
                }
            ],
            ocd: [
                {
                    title: "International OCD Foundation",
                    url: "https://iocdf.org/",
                    description: "Resources and support for OCD management"
                },
                {
                    title: "OCD Treatment Guide",
                    url: "https://www.beyondocd.org/information-for-individuals",
                    description: "Understanding OCD and treatment options"
                }
            ],
            general: [
                {
                    title: "Mental Health First Aid",
                    url: "https://www.mentalhealth.gov/get-help",
                    description: "General mental health resources and crisis support"
                },
                {
                    title: "Crisis Support Hotlines",
                    url: "https://www.samhsa.gov/find-help/national-helpline",
                    description: "24/7 mental health support and crisis intervention"
                }
            ]
        };

        function initializeQuiz() {
            showQuestion();
            updateProgressBar();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option.text;
                optionElement.onclick = () => selectOption(index);
                
                if (userResponses[currentQuestion] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            updateButtons();
        }

        function selectOption(optionIndex) {
            userResponses[currentQuestion] = optionIndex;
            
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            document.querySelectorAll('.option')[optionIndex].classList.add('selected');
            document.getElementById('next-btn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
                updateProgressBar();
            } else {
                calculateResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
                updateProgressBar();
            }
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.style.visibility = currentQuestion === 0 ? 'hidden' : 'visible';
            nextBtn.textContent = currentQuestion === questions.length - 1 ? 'Get Results' : 'Next';
            nextBtn.disabled = userResponses[currentQuestion] === undefined;
        }

        function updateProgressBar() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }

        function calculateResults() {
            totalScore = 0;
            let conditionIndicators = {
                anxiety: false,
                depression: false,
                ptsd: false,
                ocd: false,
                trd: false
            };

            userResponses.forEach((responseIndex, questionIndex) => {
                if (responseIndex !== undefined) {
                    const selectedOption = questions[questionIndex].options[responseIndex];
                    totalScore += selectedOption.score;
                    
                    // Track specific conditions mentioned
                    if (selectedOption.value === 'anxiety') conditionIndicators.anxiety = true;
                    if (selectedOption.value === 'depression' || selectedOption.value === 'trd') conditionIndicators.depression = true;
                    if (selectedOption.value === 'ptsd') conditionIndicators.ptsd = true;
                    if (selectedOption.value === 'ocd') conditionIndicators.ocd = true;
                    if (selectedOption.value === 'trd') conditionIndicators.trd = true;
                }
            });

            showResults(conditionIndicators);
        }

        function showResults(conditionIndicators) {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('result-container').classList.remove('hidden');
            
            let resultTitle, resultDescription, contactClass, resourceButtons = '';

            if (totalScore < 0) {
                resultTitle = "TMS May Not Be Suitable";
                resultDescription = "Based on your responses, TMS therapy may not be appropriate due to contraindications. Please consult with a healthcare provider to discuss alternative treatment options.";
                contactClass = "stage-1";
            } else if (totalScore <= 10) {
                resultTitle = "Low TMS Candidacy";
                resultDescription = "Your responses suggest you may benefit from other treatment approaches before considering TMS. We recommend discussing conventional treatments with a mental health professional.";
                contactClass = "stage-1";
            } else if (totalScore <= 20) {
                resultTitle = "Moderate TMS Candidacy";
                resultDescription = "You may be a candidate for TMS therapy. A comprehensive evaluation by a TMS specialist would help determine if this treatment is right for you.";
                contactClass = "stage-2";
            } else {
                resultTitle = "Strong TMS Candidacy";
                resultDescription = "Based on your responses, you appear to be a good candidate for TMS therapy. We encourage you to schedule a consultation with our TMS specialists for a thorough evaluation.";
                contactClass = "stage-3";
            }

            // Generate personalized resource buttons
            resourceButtons = generateResourceButtons(conditionIndicators);

            document.getElementById('result-title').textContent = resultTitle;
            document.getElementById('result-description').textContent = resultDescription;
            
            document.getElementById('contact-info').innerHTML = `
                <h3>Next Steps</h3>
                <p><strong>üìû Phone:</strong> (555) 123-4567</p>
                <p><strong>üìß Email:</strong> info@healmedclinic.com</p>
                <p><strong>üåê Website:</strong> www.healmedclinic.org</p>
                <p><strong>üìç Location:</strong> 123 Wellness Street, Health City, HC 12345</p>
                <p style="margin-top: 15px; font-style: italic;">Schedule your free TMS consultation today!</p>
            `;
            
            document.getElementById('contact-info').className = `contact-info ${contactClass}`;
            document.getElementById('resource-buttons').innerHTML = resourceButtons;
        }

        function generateResourceButtons(conditionIndicators) {
            let buttonsHTML = '<h3>üìö Helpful Resources for You</h3><div class="resource-grid">';
            let hasSpecificResources = false;

            // Add condition-specific resources
            if (conditionIndicators.anxiety) {
                mentalHealthResources.anxiety.forEach(resource => {
                    buttonsHTML += `
                        <a href="${resource.url}" target="_blank" class="resource-button anxiety">
                            ${resource.title}
                            <div class="resource-description">${resource.description}</div>
                        </a>
                    `;
                });
                hasSpecificResources = true;
            }

            if (conditionIndicators.depression || conditionIndicators.trd) {
                mentalHealthResources.depression.forEach(resource => {
                    buttonsHTML += `
                        <a href="${resource.url}" target="_blank" class="resource-button depression">
                            ${resource.title}
                            <div class="resource-description">${resource.description}</div>
                        </a>
                    `;
                });
                hasSpecificResources = true;
            }

            if (conditionIndicators.ptsd) {
                mentalHealthResources.ptsd.forEach(resource => {
                    buttonsHTML += `
                        <a href="${resource.url}" target="_blank" class="resource-button ptsd">
                            ${resource.title}
                            <div class="resource-description">${resource.description}</div>
                        </a>
                    `;
                });
                hasSpecificResources = true;
            }

            if (conditionIndicators.ocd) {
                mentalHealthResources.ocd.forEach(resource => {
                    buttonsHTML += `
                        <a href="${resource.url}" target="_blank" class="resource-button ocd">
                            ${resource.title}
                            <div class="resource-description">${resource.description}</div>
                        </a>
                    `;
                });
                hasSpecificResources = true;
            }

            // Always add general mental health resources
            mentalHealthResources.general.forEach(resource => {
                buttonsHTML += `
                    <a href="${resource.url}" target="_blank" class="resource-button general">
                        ${resource.title}
                        <div class="resource-description">${resource.description}</div>
                    </a>
                `;
            });

            buttonsHTML += '</div>';
            return buttonsHTML;
        }

        function restartQuiz() {
            currentQuestion = 0;
            userResponses = [];
            totalScore = 0;
            
            document.getElementById('quiz-container').classList.remove('hidden');
            document.getElementById('result-container').classList.add('hidden');
            
            initializeQuiz();
        }

        // Initialize quiz when page loads
        window.onload = function() {
            initializeQuiz();
        };
    </script>
</body>
</html>
